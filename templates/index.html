<div id="gemini_result"></div>

<script>
    function checkText() {
        let text = document.getElementById("text").value;
        fetch("/check", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: "text=" + encodeURIComponent(text)
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById("result").innerHTML = 
                `Result: ${data.label} (Confidence: ${data.score.toFixed(2)})`;
            document.getElementById("gemini_result").innerHTML = 
                `Gemini Verdict: ${data.gemini_verdict}<br>
                 Sources: ${data.sources.join(", ")}<br>
                 Explanation: ${data.explanation}`;
        });
    }
</script>
